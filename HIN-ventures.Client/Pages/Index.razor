@page "/"
@using HIN_ventures.Client.wwwroot.Helper
@inject ILocalStorageService localStorage
@inject IJSRuntime jsRuntime
@inject NavigationManager navigationManager


<EditForm Model="HomeModel" OnValidSubmit="SaveInitialData">
    <div class="row p-0 mx-0 mt-4">

        <div class="col-4 col-md-2 p-0 pr-2">
            <div class="form-group">
                <label>&nbsp;</label>

                <input type="submit" value="View Customer page" class="btn btn-success btn-block" />

            </div>
        </div>

    </div>
</EditForm>

<div class="container-fluid">
    <div class="row">
        <div class="col-md-9 ">
            <div class="container">
                <div class="row p-3">
                    <h2 class="h4 text-center" style="text-transform: uppercase">Available Assignments</h2>
                    <div class="card text-white bg-dark mb-3 mr-3 col-md-4" style="max-width: 20rem;">
                        <div class="card-header">Header</div>
                        <div class="card-body">
                            <h4 class="card-title">Dark card title</h4>
                            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                            <a class="btn btn-outline-success card-link">Learn More...</a>
                        </div>
                    </div>
                    <div class="card text-white bg-dark mb-3 mr-3 col-md-4" style="max-width: 20rem;">
                        <div class="card-header">Header</div>
                        <div class="card-body">
                            <h4 class="card-title">Dark card title</h4>
                            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                            <a class="btn btn-outline-success card-link">Learn More...</a>
                        </div>
                    </div>
                    <div class="card text-white bg-dark mb-3 mr-3 col-md-4" style="max-width: 20rem;">
                        <div class="card-header">Header</div>
                        <div class="card-body">
                            <h4 class="card-title">Dark card title</h4>
                            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                            <a class="btn btn-outline-success card-link">Learn More...</a>
                        </div>
                    </div>
                    <div class="card text-white bg-dark mb-3 mr-3 col-md-4" style="max-width: 20rem;">
                        <div class="card-header">Header</div>
                        <div class="card-body">
                            <h4 class="card-title">Dark card title</h4>
                            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                            <a class="btn btn-outline-success card-link">Learn More...</a>
                        </div>
                    </div>
                    <div class="card text-white bg-dark mb-3 mr-3 col-md-4" style="max-width: 20rem;">
                        <div class="card-header">Header</div>
                        <div class="card-body">
                            <h4 class="card-title">Dark card title</h4>
                            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                            <a class="btn btn-outline-success card-link">Learn More...</a>
                        </div>
                    </div>
                    <div class="card text-white bg-dark mb-3 mr-3 col-md-4" style="max-width: 20rem;">
                        <div class="card-header">Header</div>
                        <div class="card-body">
                            <h4 class="card-title">Dark card title</h4>
                            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                            <a class="btn btn-outline-success card-link">Learn More...</a>
                        </div>
                    </div>
                    <div class="card text-white bg-dark mb-3 mr-3 col-md-4" style="max-width: 20rem;">
                        <div class="card-header">Header</div>
                        <div class="card-body">
                            <h4 class="card-title">Dark card title</h4>
                            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                            <a class="btn btn-outline-success card-link">Learn More...</a>
                        </div>
                    </div>
                    <div class="card text-white bg-dark mb-3 mr-3 col-md-4" style="max-width: 20rem;">
                        <div class="card-header">Header</div>
                        <div class="card-body">
                            <h4 class="card-title">Dark card title</h4>
                            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                            <a class="btn btn-outline-success card-link">Learn More...</a>
                        </div>
                    </div>
                    <div class="card text-white bg-dark mb-3 mr-3 col-md-4" style="max-width: 20rem;">
                        <div class="card-header">Header</div>
                        <div class="card-body">
                            <h4 class="card-title">Dark card title</h4>
                            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                            <a class="btn btn-outline-success card-link">Learn More...</a>
                        </div>
                    </div>
                </div>

                <a class="btn btn-outline-warning col-12">Get More Assignments...</a>
            </div>
        </div>
        <div class="col-md-3 p-3">
            <h2 class="h4 text-center" style="text-transform: uppercase">Freelancers</h2>
            <div class="card text-white bg-light mb-3 mr-3" style="max-width: 20rem;">
                <div class="card-header">Header</div>
                <div class="card-body">
                    <h4 class="card-title">Dark card title</h4>
                    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                    <a class="btn btn-outline-success card-link">Learn More...</a>
                </div>
            </div>
            <div class="card text-white bg-light mb-3 mr-3" style="max-width: 20rem;">
                <div class="card-header">Header</div>
                <div class="card-body">
                    <h4 class="card-title">Dark card title</h4>
                    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                    <a class="btn btn-outline-success card-link">Learn More...</a>
                </div>
            </div>
            <div class="card text-white bg-light mb-3 mr-3" style="max-width: 20rem;">
                <div class="card-header">Header</div>
                <div class="card-body">
                    <h4 class="card-title">Dark card title</h4>
                    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                    <a class="btn btn-outline-success card-link">Learn More...</a>
                </div>
            </div>
            <a class="btn btn-outline-warning col-12 mt-3">Get More Freelancers...</a>
        </div>
    </div>
</div>



@code{

    public HomeVM HomeModel { get; set; } = new HomeVM();
    //public IEnumerable<HotelAmenityDTO> HotelAmenities { get; set; } = new List<HotelAmenityDTO>();
    public bool IsProcessing { get; set; } = false;
    protected override async Task OnInitializedAsync()
    {
        IsProcessing = true;
        //    HotelAmenities = await hotelAmenityService.GetHotelAmenities();
        IsProcessing = false;
    }


    private async Task SaveInitialData()
    {
        try
        {
            HomeModel.EndDate = HomeModel.StartDate.AddDays(HomeModel.NoOfNights);

            await localStorage.SetItemAsync(SD.Local_InitialBooking, HomeModel); //SD.Local_InitialBooking
            navigationManager.NavigateTo("/customer/requestfreelancer", true);
        }
        catch (Exception e)
        {
            await jsRuntime.ToastrError(e.Message);
        }
    }

}